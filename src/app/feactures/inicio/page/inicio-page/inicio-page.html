<div class="w-full h-screen bg-gray-100 flex flex-col overflow-hidden">

    <div class="flex-grow max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 flex flex-col justify-center">

        <header class="mb-5 text-center flex-shrink-0">
            <p class="text-xs sm:text-sm font-semibold text-blue-600 uppercase tracking-widest mb-1">
                Bienvenido, {{ getRoleDisplayName(currentUserRole) }}
            </p>

            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                Sistema de Gesti칩n <span class="text-blue-600">ELHIDAJA</span>
            </h1>

            <p class="mt-1 text-sm text-gray-600 max-w-3xl mx-auto hidden sm:block">
                Selecciona tu 치rea de trabajo para comenzar la gesti칩n de procesos empresariales.
            </p>
        </header>

        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-3 sm:gap-5 mx-auto w-full flex-shrink">

            @for (module of getVisibleModuleCards(); track $index) {
                <a [routerLink]="[module.route]" class="group block h-full">
                    <div class="bg-white rounded-xl h-full flex flex-col justify-between
                                p-4 sm:p-5 shadow-lg border-t-2 border-transparent
                                transition-all duration-300 ease-in-out
                                hover:shadow-xl hover:shadow-blue-200/50 hover:border-blue-600">

                        <div>
                            <div class="relative mb-2 flex items-center justify-start size-10 sm:size-12">
                                <div class="absolute inset-0 rounded-full bg-blue-100 opacity-70"></div>

                                <div class="text-blue-600 relative z-10 size-full flex justify-center items-center transition duration-300 group-hover:scale-105">
                                    <svg class="size-5 sm:size-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        @switch (module.icon) {
                                          @case ('warehouse') {
                                            <path d="M3 21V7l9-4 9 4v14l-9-4z" /> <path d="M12 12v9" />
                                          }
                                          @case ('inventory') {
                                            <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z" />
                                            <path d="m3.3 7 8.7 5 8.7-5" />
                                            <path d="M12 22V12" />
                                          }
                                          @case ('assignment') {
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" /> <path d="M14 2v6h6" />
                                          }
                                          @case ('receipt') {
                                            <path d="M14 2v6h6" /><path d="M12 22h6c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V8.4" /><path d="M20 7V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h6" />
                                          }
                                          @case ('bar_chart') {
                                            <path d="M12 20V10" /><path d="M18 20V4" /><path d="M6 20v-4" />
                                          }
                                          @case ('settings') {
                                            <circle cx="12" cy="12" r="3" /><path d="M19.4 15a1.43 1.43 0 0 0 .2-1V10c-.1-.5-.5-.9-1-1l-3.2-.9c-.3-.8-.8-1.5-1.5-1.9l-1.3-1.1c-.5-.4-1.2-.5-1.8-.4-.7.1-1.3.5-1.7 1l-1.3 1.1c-.7.4-1.2 1.1-1.5 1.9l-3.2.9c-.5.1-.9.5-1 1v4c.1.5.5.9 1 1l3.2.9c.3.8.8 1.5 1.5 1.9l1.3 1.1c.5.4 1.2.5 1.8.4.7-.1 1.3-.5 1.7-1l1.3-1.1c.7-.4 1.2-1.1 1.5-1.9l3.2-.9c.5-.1.9-.5 1-1z" />
                                          }
                                          @default {
                                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" /><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                                          }
                                        }
                                    </svg>
                                </div>
                            </div>

                            <h2 class="text-lg sm:text-xl font-extrabold text-gray-800 mb-1 transition duration-300 group-hover:text-blue-700 text-left">
                                {{module.title}}
                            </h2>

                            <p class="text-xs text-gray-700 mb-3 text-left">
                                {{module.description}}
                            </p>
                        </div>

                        <div class="pt-2 border-t border-gray-100 flex justify-between items-center text-[10px] sm:text-xs font-bold text-blue-600 transition duration-300">
                            <span>Ingresar al M칩dulo</span>
                            <svg class="size-4 transform group-hover:translate-x-1 transition duration-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                        </div>
                    </div>
                </a>
                }
        </div>

    </div>

    </div>
